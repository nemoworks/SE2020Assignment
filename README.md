# ç®€å•Webåº”ç”¨å¼€å‘Assignment
author: wangguochang

## DDLä¸æäº¤æ–¹å¼
è¯·åœ¨2021å¹´6æœˆ13æ—¥24ç‚¹å‰å®Œæˆæœ¬æ¬¡Assignmentï¼Œæˆ‘ä»¬ä¼šä¾ç…§å„ä½çš„Gitä»“åº“ä¸­2021å¹´6æœˆ13æ—¥æœ€æ™šçš„commitç‰ˆæœ¬ä¸ºå‡†è¿›è¡Œæ£€æŸ¥ã€‚

è¯·å„ä½ä»¥**å›¢é˜Ÿä¸ºå•ä½åˆ›å»ºä»“åº“**ï¼Œå¹¶å‘è¯¥ä»“åº“é›†ä¸­æäº¤è‡ªå·±çš„commitã€‚

è¯·å„ä½åœ¨[æœ¬ä»“åº“](https://github.com/nemoworks/SE2020Assignment)ä¸­æå‡ºissueï¼Œtitleæ ¼å¼ä¸º
**'WebDevAssignment-å›¢é˜Ÿå'**ï¼Œissueå†…å®¹ä¸ºå„ä½çš„gitä»“åº“é“¾æ¥å’Œ**å›¢é˜Ÿæˆå‘˜çš„å­¦å·ï¼Œå§“åï¼Œgithubè´¦å·**ã€‚

æ ¼å¼å¦‚[æ ·ä¾‹issue](https://github.com/nemoworks/SE2020Assignment/issues/3)ã€‚

è¯·æ³¨æ„ï¼š
- issueå†…å®¹ç”¨äºæˆ‘ä»¬æ£€ç´¢å„ä½çš„ä½œä¸šæ‰€åœ¨é“¾æ¥ï¼Œå› æ­¤å»ºè®®å„ä½åœ¨åˆ›å»ºä»“åº“åå°±åˆ›å»ºè‡ªå·±çš„issueï¼Œé¿å…é—å¿˜ã€‚
- ä¸ªäººæˆç»©å°†ä¾æ®å›¢é˜Ÿå„ä¸ªæˆå‘˜å¯¹é¡¹ç›®çš„**Contribution**å’Œ**å›¢é˜Ÿä½œä¸š**å®Œæˆæƒ…å†µè¯„å®šã€‚
- Contributionä»¥githubé¡¹ç›®çš„**insights/Contributors**é¡µé¢ä¸ºå‡†ï¼Œè¯·åŠ¡å¿…**ç”¨è‡ªå·±çš„è´¦å·åŠæ—¶æäº¤commits**ã€‚
- å›¢é˜Ÿä½œä¸šå®Œæˆæƒ…å†µç”±æœ€ç»ˆç³»ç»ŸåŠŸèƒ½ç‚¹å®ç°æƒ…å†µè€Œå®šã€‚
- åœ¨issueä¸­è¯·ç»™å‡º**github**é¡¹ç›®åœ°å€ï¼Œè¿™ä¼šä¾¿äºæˆ‘ä»¬ç»Ÿè®¡å„ä½çš„Contributionã€‚å„å›¢é˜Ÿå¯ä»¥åœ¨è¿‡ç¨‹ä¸­è‡ªç”±é€‰æ‹©gitä»£ç æ‰˜ç®¡å¹³å°ï¼Œå¦‚giteeï¼Œä½†æœ€ç»ˆæäº¤æ—¶è¯·å‹¿å¿˜è®°å°†giteeä¸­çš„ä»£ç æäº¤åˆ°**githubé¡¹ç›®**ï¼Œä¾‹å¦‚ä½ å¯ä»¥å°†giteeçš„ä»£ç pullåˆ°æœ¬åœ°åè¿›è¡Œä»¥ä¸‹æ“ä½œ:
```bash
git remote add webdev https://github.com/abcd/efgh.git #æ·»åŠ githubä»“åº“åœ°å€ï¼Œå¹¶å‘½åä¸ºwebdev

push webdev master #å°†æœ¬åœ°çš„ä»£ç æ¨é€åˆ°webdevçš„masteråˆ†æ”¯
```

## å‰è¨€

æœ¬æ¬¡Assignmentæ¨¡æ‹Ÿè¿­ä»£å¼€å‘ä¸€ä¸ªå°è€ŒåŠŸèƒ½å®Œå–„çš„å‰ç«¯åº”ç”¨ï¼Œå…±20ä¸ªåŠŸèƒ½ç‚¹ã€‚åœ¨æ£€æŸ¥åŠŸèƒ½ç‚¹æ—¶åªéœ€æ£€æŸ¥æœ€ç»ˆå®ç°å³å¯ã€‚ä¾‹å¦‚ï¼šå½“ä½ å®Œæˆäº†6.6ï¼Œå¹¶ä¸”åŠŸèƒ½æ­£ç¡®ï¼Œå³å¯è®¤ä¸ºåœ¨æ­¤ä¹‹å‰çš„åŠŸèƒ½ç‚¹éƒ½å·²æ­£ç¡®å®Œæˆã€‚

è¯·ç»“åˆæ‰€å­¦ï¼Œå°½åŠ›å®Œæˆæœ¬æ¬¡Assignmentä¸­çš„å„ä¸ªé¢˜ç›®ï¼Œå¹¶**ä¸æ˜¯**åœ¨**æŠ˜ç£¨**å„ä½ã€‚æˆ‘ä»¬ä¸å»ºè®®æœ¬é¢†é«˜å¼ºçš„ç å†œä»¬å¿«é€Ÿå®Œæˆäº†æ­¤æ¬¡ä½œä¸šåå°†ä»£ç shareå‡ºå»ï¼Œå¦‚æœå¯¹æ–¹æ˜¯ä½ çš„å¥½å…„å¼Ÿ/å¥½å§å¦¹æˆ–æ˜¯ç”·/å¥³æœ‹å‹ï¼Œæˆ‘ä»¬éå¸¸é¼“åŠ±ä½ è´Ÿèµ·è´£ä»»**æ•™ä¼š**taâ¤ï¸ã€‚

## å…è´£å£°æ˜
äººéåœ£è´¤ï¼Œæ—¶é—´ä»“ä¿ƒï¼Œæœ¬æ–‡æ¡£å¯èƒ½å­˜åœ¨ç¼ºå­—/æ¼å­—/è¯­æ³•é”™è¯¯/ä»£ç é”™è¯¯ç­‰ã€‚

å¦‚æœä½ æ€€ç–‘ä»€ä¹ˆåœ°æ–¹å†™é”™äº†æˆ–æ˜¯æ„Ÿåˆ°æŸå¤„è¡¨è¾¾ä¸å¤Ÿæ¸…æ™°ï¼Œ**ä¸è¦æ€€ç–‘ï¼Œéƒ½æ˜¯æˆ‘çš„é”™**ğŸ§â€â™‚ï¸ã€‚

è¯·æŠŠå¯¹åº”ä½ç½®æˆªå›¾æ ‡å‡ºå¹¶å‘åˆ°é‚®ç®±ï¼šdz1933026@smail.nju.edu.cnï¼Œä½œè€…ä¼šå°½å¿«è¿›è¡Œå‹˜è¯¯ã€‚

ç”±äºå‹˜è¯¯éšç¼˜ï¼Œæ— æ³•é¢„æµ‹ï¼Œå»ºè®®å„ä½cloneæ–‡æ¡£ä»“åº“åå‹¤åŠ git pullè¿›è¡Œç¡®è®¤ã€‚

æœ¬æ¬¡å®éªŒå¯¹äºå‰ç«¯åˆå­¦è€…æ¥è¯´éš¾åº¦æå¤§ä¸”æä¸ºå¤æ‚ï¼Œå†æ¬¡å¼ºè°ƒï¼Œ**è¯·å°½åŠ›è€Œä¸º**ï¼ŒæŠ˜ç£¨å„ä½**å¹¶æ— å¥½å¤„**ï¼Œå®éªŒç›®çš„æ˜¯ä¸ºäº†è®©å„ä½å¿«é€Ÿç†Ÿæ‚‰å‰ç«¯æŠ€æœ¯ï¼Œä»…æ­¤è€Œå·²ã€‚

å¥åº·ç¬¬ä¸€ï¼Œè¯·ä¿æŒå¥åº·çš„èº«ä½“ï¼Œä½›ç³»çš„æ€åº¦å¯¹å¾…æ­¤æ¬¡ä½œä¸šï¼Œå¤šä¹ˆçç¢çš„æŠ€æœ¯é—®é¢˜éƒ½å¯ä»¥æé—®åŠ©æ•™ï¼Œè¯·ä¸è¦ç‹¬è‡ªçƒ¦æ¼ï¼ŒQQç¾¤ç§èŠ éŸ©å§“/ç‹å§“ åŠ©æ•™å‡å¯ã€‚

## æç¤º
Webå¼€å‘ä¸­éœ€è¦å–„ç”¨æœç´¢å¼•æ“ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€äº›å‚è€ƒç½‘ç«™ï¼Œå¦‚:
- https://reactjs.org/
- https://developer.mozilla.org/zh-CN/
- https://ant.design/index-cn
- https://umijs.org/guide/
## 1. é¡¹ç›®åˆ›å»º(10')(ç´¯è®¡: 10')
ä½¿ç”¨è„šæ‰‹æ¶åˆ›å»ºä¸€ä¸ªReacté¡¹ç›®ï¼Œå¹¶æˆåŠŸè¿è¡Œï¼Œå±•ç¤ºindexç•Œé¢ã€‚

æç¤ºï¼šä½ å¯ä»¥ä½¿ç”¨umiæˆ–create-react-appï¼Œä¸è¦å¿˜è®°å®‰è£…ä¾èµ–ã€‚

æ•ˆæœå‚è€ƒ:
![](./images/1.png)

## 2. è·¯ç”±(20')
### 2.1 è·¯ç”±é…ç½®(10')(ç´¯è®¡: 20')
ç°åœ¨ä½ å·²ç»æœ‰äº†ä¸€ä¸ªé¡¹ç›®ï¼Œè¯·åœ¨é¡¹ç›®ä¸­æ·»åŠ è·¯ç”±ï¼Œå¹¶æä¾›è‡³å°‘ä¸¤ä¸ªé¡µé¢ï¼Œemployeeå’Œlistã€‚

æ•ˆæœå‚è€ƒï¼šè¾“å…¥ä¸åŒçš„urlï¼Œå¯ä»¥åˆ‡æ¢åˆ°ä¸åŒçš„é¡µé¢å³å¯ã€‚

### 2.2 é¡µé¢åˆ‡æ¢(10')(ç´¯è®¡: 30')
ä¸ºä½ çš„é¡µé¢æä¾›åˆ‡æ¢åŠŸèƒ½ï¼Œå³åœ¨ä½ çš„é¡µé¢ä¸­æ·»åŠ é¡µé¢è·³è½¬çš„æŒ‰é’®/èœå•/å¯¼èˆªæ ï¼Œä½¿å¾—é¡µé¢åˆ‡æ¢å¯ä»¥åœ¨é¡µé¢ä¸­å®Œæˆã€‚

æ•ˆæœå‚è€ƒï¼š
![](./images/2-2-1.png)
![](./images/2-2-2.png)

## 3. ç»„ä»¶(10')(ç´¯è®¡: 40')
åœ¨ä½ çš„listé¡µé¢ä¸­å®ç°ä¸€ä¸ªè¡¨æ ¼ç»„ä»¶ï¼Œè¡¨æ ¼éœ€è¦å±•ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œå¹¶åœ¨æ¯è¡Œæœ€åæä¾›ä¸¤ä¸ªæ“ä½œæŒ‰é’® editä¸deleteï¼š
```JSON
[
  {
    "key": "1",
    "firstName":  "John",
    "lastName":  "Brown",
    "age":  32,
    "address":  "New York No. 1 Lake Park",
    "tags":  ["nice", "developer"],
  },
  {
    "key": "2",
    "firstName":  "Jim",
    "lastName":  "Green",
    "age":  42,
    "address":  "London No. 1 Lake Park",
    "tags":  ["loser"],
  },
  {
    "key": "3",
    "firstName":  "Joe",
    "lastName":  "Black",
    "age":  32,
    "address":  "Sidney No. 1 Lake Park",
    "tags":  ["cool", "teacher"],
  }
]
```

æç¤ºï¼šä½ å¯ä»¥ç›´æ¥å¼•å…¥ant desingçš„Tableç»„ä»¶ï¼Œäº‹å®ä¸Šä»¥ä¸Šæ•°æ®å°±æ¥è‡ªäºant design tableçš„[å®˜æ–¹ä¾‹å­](https://ant.design/components/table-cn/)ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šç¨ä½œä¿®æ”¹ã€‚

æ•ˆæœå‚è€ƒï¼š
![](./images/3.png)

## 4. state(10')(ç´¯è®¡: 50')
å¦‚æœä½ ç›´æ¥å¼•å…¥äº†antdçš„tableï¼Œé‚£ä¹ˆæ­¤æ—¶æ•°æ®æ˜¯é™æ€çš„ï¼Œå³ä½¿ç‚¹å‡»äº†deleteï¼Œæ•°æ®ä¹Ÿä¸ä¼šè¢«åˆ é™¤ã€‚è¯·å°†ä¸Šè¿°dataè½¬ç§»åˆ°ç»„ä»¶çš„stateä¸­ï¼Œå¹¶æ·»åŠ deleteåŠŸèƒ½ï¼Œä½¿å¾—deleteè¢«ç‚¹å‡»æ—¶ï¼Œè¯¥æ¡æ•°æ®è¢«åˆ é™¤ã€‚

æç¤ºï¼šè¯·ä»”ç»†å›å¿†å¦‚ä½•åœ¨ç»„ä»¶ä¸­åˆå§‹åŒ–ä¸€ä¸ªstateï¼Œä»¥åŠsetStateæ–¹æ³•å¦‚ä½•ä½¿ç”¨ï¼Ÿ

æ•ˆæœå‚è€ƒï¼šç‚¹å‡»deleteåè¯¥æ¡æ•°æ®è¢«åˆ é™¤å³å¯ã€‚

## 5. é¡µé¢é—´æ•°æ®å…±äº«(30')

### 5.2 ä»stateåˆ°store-1(10')(ç´¯è®¡: 60')
æˆ‘ä»¬çš„å­¦ä¹ è¿‡ç¨‹ä¸­æåˆ°stateç®¡ç†çš„æ˜¯ç»„ä»¶å†…éƒ¨çš„çŠ¶æ€ï¼Œå¦‚æœæƒ³è¦employeeå’Œlisté¡µé¢å…±äº«ä¸€ä»½æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå…±äº«çš„æ•°æ®storeï¼Œè¯·æŠŠä¹‹å‰ä¿å­˜åœ¨stateå†…çš„æ•°æ®æ”¹å†™åˆ°storeå†…ï¼Œå¹¶ä½¿ç”¨storeå†…çš„æ•°æ®åˆå§‹åŒ–listé¡µé¢ä¸­çš„è¡¨æ ¼ã€‚

æç¤ºï¼šä½ å¯ä»¥ä½¿ç”¨reduxæˆ–dvaï¼Œå¦‚æœä½ é—å¿˜äº†å¦‚ä½•ä½¿ç”¨ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£æˆ–å–„ç”¨æœç´¢å¼•æ“ã€‚

æ•ˆæœå‚è€ƒï¼šåŒç¬¬3é¢˜ã€‚

### 5.3 ä»stateåˆ°store-2(10')(ç´¯è®¡: 70')
åœ¨4ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡stateå®ç°äº†deleteåŠŸèƒ½ï¼Œç°åœ¨è¯·å°†å…¶æ”¹ä¸ºé€šè¿‡storeå®ç°ã€‚

æ•ˆæœå‚è€ƒï¼šåŒç¬¬4é¢˜ã€‚

### 5.4 ä»stateåˆ°store-3(10')(ç´¯è®¡: 80')
ç°åœ¨ï¼Œä½ å¯ä»¥å°†employeeé¡µé¢ä¸listé¡µé¢ç›¸è¿æ¥äº†ï¼Œä½ éœ€è¦åœ¨employeeé¡µé¢ä¸­æ‰“å°å‡ºstoreå†…çš„æ•°æ®ã€‚

æ•ˆæœå‚è€ƒï¼šåœ¨employeeä¸­èƒ½æ‰“å°å‡º
```JSON
[
  {
    "key": "1",
    "firstName":  "John",
    "lastName":  "Brown",
    "age":  32,
    "address":  "New York No. 1 Lake Park",
    "tags":  ["nice", "developer"],
  },
  {
    "key": "2",
    "firstName":  "Jim",
    "lastName":  "Green",
    "age":  42,
    "address":  "London No. 1 Lake Park",
    "tags":  ["loser"],
  },
  {
    "key": "3",
    "firstName":  "Joe",
    "lastName":  "Black",
    "age":  32,
    "address":  "Sidney No. 1 Lake Park",
    "tags":  ["cool", "teacher"],
  },
]
```
åœ¨listä¸­åˆ é™¤ä¸€æ¡æ•°æ®ï¼ˆå¦‚ç¬¬ä¸€æ¡ï¼‰åï¼Œè·³è½¬å›employeeé¡µé¢ï¼Œæ‰“å°å‡ºåˆ é™¤åçš„æ•°æ®ã€‚
```JSON
[{
    "key": "2",
    "firstName":  "Jim",
    "lastName":  "Green",
    "age":  42,
    "address":  "London No. 1 Lake Park",
    "tags":  ["loser"],
  },
  {
    "key": "3",
    "firstName":  "Joe",
    "lastName":  "Black",
    "age":  32,
    "address":  "Sidney No. 1 Lake Park",
    "tags":  ["cool", "teacher"],
  },
]
```


## 6 ç»¼åˆé¢˜(60')
### 6.1 employeeè¯¦æƒ…é¡µé¢(10')(ç´¯è®¡: 90')
è¯·åœ¨employeeé¡µé¢ä¸­æ·»åŠ è¡¨å•ç»„ä»¶ï¼Œå½¢æˆemployeeçš„ç¼–è¾‘é¡µé¢ï¼Œä½ éœ€è¦æä¾›FirstNameï¼ŒLastNameï¼ŒAgeï¼ŒAddressçš„ç¼–è¾‘ç»„ä»¶ï¼Œå¹¶æä¾›ä¸€ä¸ªSubmitæŒ‰é’®ç”¨äºæäº¤æ•°æ®ã€‚

æç¤º1ï¼šæœ¬æ¬¡æµ‹éªŒå…¨è¿‡ç¨‹ä¸ä¼šä½¿ç”¨å¤æ‚çš„è¡¨å•åŠŸèƒ½ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨è‡ªå·±å®ç°çš„ç®€æ˜“è¡¨å•ç»„ä»¶ï¼Œæˆ–æ˜¯ä¸ä½¿ç”¨è¡¨å•ç»„ä»¶ï¼Œç®€å•åœ°æ’å…¥4ä¸ªinputç»„ä»¶ï¼Œå’Œä¸€ä¸ªæŒ‰é’®ï¼Œå¹¶åˆ†åˆ«è¿›è¡Œç®¡ç†ã€‚

æç¤º2ï¼š ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ant designçš„[Formç»„ä»¶](https://ant.design/components/form/)ï¼Œäº‹å®ä¸Šè¿™æ˜¯antdç»„ä»¶åº“çš„é‡è¦éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯å®é™…å¼€å‘ä¸­æ›´å¸¸ç”¨çš„é€‰é¡¹ã€‚å¦‚æœä½ é€‰ç”¨ant designçš„Formç»„ä»¶ï¼Œç”±äºant designçš„1-4å››ä¸ªå¤§ç‰ˆæœ¬ä¸­Formçš„APIéƒ½æœ‰å¤§å¹…ä¸åŒï¼Œè¯·åŠ¡å¿…ç¡®ä¿ä½ ä½¿ç”¨çš„ant designç‰ˆæœ¬ä¸ä½ æŸ¥çœ‹çš„ant design/formæ–‡æ¡£**ç‰ˆæœ¬ä¸€è‡´**ã€‚ä½ å¯ä»¥æŸ¥çœ‹package.jsonæ¥ç¡®è®¤è‡ªå·±çš„ant designç‰ˆæœ¬å·ã€‚

æ•ˆæœå‚è€ƒï¼š
![](./images/5-1.png)

### 6.2 è·¯ç”±-2(10')(ç´¯è®¡: 100')
åœ¨ç¬¬äºŒé¢˜ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†listå’Œemployeeçš„è·³è½¬ã€‚åœ¨ç¬¬5é¢˜ä¸­ï¼Œæˆ‘ä»¬åœ¨employeeé¡µé¢æ‰“å°äº†æ•´ä¸ªæ•°ç»„ã€‚

çœŸæ­£çš„è¯¦æƒ…é¡µéœ€è¦å•ç‹¬å±•ç¤ºä¸€æ¡æ•°æ®ï¼Œè¯·åœ¨listé¡µé¢ä¸­çš„editæŒ‰é’®ä¸Šå®ç°æ–°çš„è·¯ç”±è·³è½¬ï¼Œä½¿å¾—ç‚¹å‡»æŸæ¡æ•°æ®çš„edité¡µé¢åï¼Œèƒ½å¤Ÿè·³è½¬åˆ°è¯¥æ¡æ•°æ®å¯¹åº”çš„è¯¦æƒ…é¡µã€‚

æç¤ºï¼šä½ å¯ä»¥ä½¿ç”¨åœ¨employeeé¡µé¢çš„è·¯ç”±ä¸­æ·»åŠ **queryå‚æ•°**æˆ–**çº¦å®šå¼è·¯ç”±**æˆ–æ¥åŒºåˆ†ä¸åŒçš„æ•°æ®ï¼Œä¾‹å¦‚å¯¹äºJoeï¼Œä½ å¯ä»¥è·³è½¬åˆ°"\/employee?key=3"æˆ–"/employee/3"ã€‚

### 6.3 è·¯ç”±-3(10')(ç´¯è®¡: 110')
å¦‚æœä½ å®Œæˆäº†5.4ï¼Œæƒ³å¿…ä½ å·²ç»å¯ä»¥åœ¨employeeé¡µé¢ä¸­è·å–åˆ°æ‰€æœ‰çš„storeä¸­çš„æ•°æ®ã€‚åœ¨6.2ä¸­ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥ä»è·¯ç”±åŒºåˆ†å½“å‰çš„è¯¦æƒ…é¡µå±äºå“ªä¸€æ¡æ•°æ®ã€‚

è¯·ä¾æ®è·¯ç”±ä¸­çš„ä¿¡æ¯ï¼Œå°†5.4ä¸­åœ¨employeeæ‰“å°çš„æ‰€æœ‰æ•°æ®æ”¹ä¸ºæ‰“å°ä¸è·¯ç”±ä¿¡æ¯æ ‡è¯†çš„é‚£ä¸€æ¡æ•°æ®ã€‚

æç¤ºï¼šè¿˜è®°å¾—ç¬¬2é¢˜å—ï¼Œä¹‹å‰æˆ‘ä»¬é€šè¿‡ç¬¬2é¢˜çš„æŒ‰é’®è·³è½¬åˆ°"/employee"ï¼Œè¿™æ—¶employeeå¯èƒ½å¹¶ä¸æ˜¯ä»6.2çš„editè·³è½¬è€Œæ¥ï¼Œå› æ­¤æ²¡æœ‰queryå‚æ•°ï¼Œæˆ–æ˜¯çº¦å®šå¼å­è·¯ç”±ã€‚å®é™…å¼€å‘ä¸­å¦‚æœä¸å¤„ç†è¿™ç§æƒ…å†µï¼Œå¾ˆå¯èƒ½å¯¼è‡´bugã€‚å› æ­¤åœ¨è¯»å–è·¯ç”±ä¿¡æ¯æ—¶ï¼Œåˆ«å¿˜äº†å¤„ç†ä¸å¸¦queryå‚æ•°æˆ–æ˜¯çº¦å®šå¼å­è·¯ç”±çš„æƒ…å†µï¼Œä¾‹å¦‚ä½ å¯ä»¥åœ¨æ­¤æ—¶æ‰“å°å®Œæ•´çš„storeæ•°æ®ã€‚

æ•ˆæœå‚è€ƒï¼šä¾‹å¦‚å½“å‰è·¯ç”±ä¸º"\/employee?key=3"ï¼Œåˆ™æ‰“å°
```JSON
  {
    "key": "3",
    "firstName":  "Joe",
    "lastName":  "Black",
    "age":  32,
    "address":  "Sidney No. 1 Lake Park",
    "tags":  ["cool", "teacher"],
  }
```

### 6.4 employeeè¯¦æƒ…é¡µé¢2(10')(ç´¯è®¡: 120')
æˆ‘ä»¬å·²ç»ä»6.3å¾—åˆ°äº†å½“å‰é¡µé¢çš„æ•°æ®ï¼Œä»6.1å¾—åˆ°äº†è¿™äº›æ•°æ®å¯¹åº”çš„ç¼–è¾‘ç»„ä»¶ã€‚

è¯·ä½¿ç”¨6.3çš„æ•°æ®åˆå§‹åŒ–6.2çš„ç»„ä»¶ã€‚

æç¤º1ï¼šè¯·å‚è€ƒè¯¥ç»„ä»¶å¯¹åº”çš„æ–‡æ¡£æ¥å®ç°åˆå§‹åŒ–ã€‚

æç¤º2ï¼šå’Œ6.3ä¸€æ ·ï¼Œåˆ«å¿˜äº†å¤„ç†ä¸å¸¦queryå‚æ•°æˆ–æ˜¯çº¦å®šå¼å­è·¯ç”±çš„æƒ…å†µï¼Œä¾‹å¦‚ä½ å¯ä»¥åœ¨æ­¤æ—¶ï¼Œä¸å¯¹ç»„ä»¶è¿›è¡Œåˆå§‹åŒ–ã€‚

æ•ˆæœå‚è€ƒï¼šåœ¨ç»„ä»¶ä¸­æ˜¾ç¤ºå¯¹åº”çš„å€¼å³å¯ã€‚

### 6.5 employeeè¯¦æƒ…é¡µé¢3(10')(ç´¯è®¡: 130')
æ˜¯æ—¶å€™è®©SubmitæŒ‰é’®å‘æŒ¥ä½œç”¨äº†ã€‚

è¯·å®ç°SubmitåŠŸèƒ½ï¼Œä½¿ç”¨employeeé¡µé¢ç»„ä»¶ç¼–è¾‘æ•°æ®ï¼Œå¹¶åœ¨listé¡µé¢æ­£å¸¸æ˜¾ç¤ºã€‚

æ•ˆæœå‚è€ƒï¼šä¾‹å¦‚åœ¨employeeé¡µé¢ä¸­å°†Joeçš„ageæ”¹ä¸º99ï¼Œè·³è½¬åˆ°listæŸ¥çœ‹ï¼Œå¯¹åº”æ•°æ®å˜ä¸º99ã€‚

### 6.6 employeeè¯¦æƒ…é¡µé¢4(10')(ç´¯è®¡: 140')
6.3ä¸­çš„æç¤ºå·²ç»æŒ‡å‡ºï¼Œemployeeé¡µé¢é™¤äº†"/employee?key=1"ï¼Œ"/employee?key=2"ï¼Œ"/employee?key=3"ä»¥å¤–ï¼Œè¿˜æœ‰ä¸ª"/employee"é¡µé¢ï¼Œè®©æˆ‘ä»¬ä¸ºè¿™ä¸ªé¡µé¢åˆ†é…ä¸€ä¸ªåŠŸèƒ½ã€‚

å½“employeeé¡µé¢æ²¡æœ‰queryå‚æ•°æˆ–æ˜¯çº¦å®šå¼å­è·¯ç”±æ—¶ï¼Œå¯ä»¥é€šè¿‡Submitå°†è¡¨å•å†…å®¹pushåˆ°storeä¸­çš„æ•°ç»„ã€‚

æç¤º1: 6.1ä¸­employeeé¡µé¢ä¸Šåªæœ‰FirstNameï¼ŒLastNameï¼ŒAgeï¼ŒAddresså››ä¸ªè¾“å…¥ç»„ä»¶ï¼Œè€Œå®é™…çš„dataè¿˜æœ‰keyå’Œtagså­—æ®µã€‚

- tagsï¼šå¯¹äºtagså­—æ®µï¼Œæˆ‘ä»¬ä¸ä½œè¦æ±‚ï¼Œä½ å¯ä»¥åœ¨Submitæ—¶ç®€å•åœ°æ·»åŠ ä¸€ä¸ªtagså­—æ®µå¹¶è®¾ç½®ä¸ºç©ºæ•°ç»„ã€‚
- keyï¼šå¦‚æœä½ åœ¨6.3ä¸­æ˜¯é€šè¿‡keyæ¥åŒºåˆ†Joeï¼ŒJimå’ŒJohnï¼Œé‚£ä¹ˆå¯¹äºæ–°çš„æ•°æ®ï¼Œä½ ä¹Ÿéœ€è¦ä¸ºå®ƒåˆ†é…ä¸€ä¸ªkeyï¼Œä¾‹å¦‚ä½ å¯ä»¥å°†keyè®¾ç½®ä¸ºå½“å‰storeä¸­çš„æ•°ç»„é•¿åº¦+1ã€‚å¦åˆ™è¯¥æ•°æ®çš„editåŠŸèƒ½ä¼šå‡ºç°bugã€‚

æ•ˆæœå‚è€ƒ: åœ¨"/employee"é¡µé¢æ–°å¢ä¸€æ¡æ•°æ®ï¼ŒSubmitååœ¨listé¡µé¢æŸ¥çœ‹æˆåŠŸå³å¯ã€‚
![](./images/6-6-1.png)
![](./images/6-6-2.png)

## 7 æ¨¡æ‹Ÿåå°(50')
æ­¤éƒ¨åˆ†å†…å®¹å¹¶éå‰ç«¯å¼€å‘æ ¸å¿ƒã€‚ç„¶è€ŒæŒæ¡é™„åŠ é¢˜æŠ€èƒ½æƒ³å¿…å¯ä»¥ä»¤å„ä½æˆä¸º**æ›´é«˜é˜¶**çš„å‰ç«¯å¼€å‘è€…ï¼Œè¯·å„ä½å–„ç”¨æœç´¢å¼•æ“å’Œå®˜æ–¹æ–‡æ¡£ï¼Œæ”»å…‹éš¾å…³ã€‚
### 7.1 mock(10')(ç´¯è®¡: 150')
åœ¨å‰ç«¯åå°åˆ†ç¦»çš„å¼€å‘ä¸­ï¼Œæœ‰æ—¶åç«¯å¤§å“¥ä¸å¯é¿å…åœ°APIå®ç°çš„å¾ˆæ…¢ï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦æ¨¡æ‹Ÿ(mock)å‡ºä¸€å¥—å’Œåå°ä¸€è‡´çš„æ¥å£ï¼Œä»è€Œä½¿å¾—æˆ‘ä»¬é¿å…ç­‰å¾…ï¼Œæ—©å†™å®Œæ—©ä¸‹ç­ã€‚

è¯·æŠŠç¬¬3é¢˜ä¸­çš„æ•°æ®å¤åˆ¶ï¼Œå¹¶ä¿å­˜åˆ°data.jsonã€‚

è¯·å®ç°ä¸€ä¸ªmockæ¥å£ï¼Œ"GET /api/data"ï¼Œå¹¶è¿”å›data.jsonä¸­çš„æ•°æ®ã€‚

æç¤º1ï¼šå¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯GETï¼Œè¯·å–„ç”¨æœç´¢å¼•æ“ï¼Œå­¦ä¹ Restfulæ¥å£çŸ¥è¯†ã€‚

æç¤º2ï¼šå¦‚æœä½ ä½¿ç”¨äº†umiæ¡†æ¶ï¼Œä½ å¯ä»¥æŸ¥é˜…https://umijs.org/zh-CN/docs/mockã€‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨umiï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åº“ï¼Œä¾‹å¦‚mockjsï¼Œå¹¶å–„ç”¨æœç´¢å¼•æ“å­¦ä¹ å…¶ä½¿ç”¨ï¼Œä¾‹å¦‚https://juejin.cn/post/6844904104750219271ã€‚

æç¤º3ï¼šåœ¨reactä¸­å¼•ç”¨data.jsonå¹¶ä¸å¤æ‚ï¼Œimport data from "./data.json"(ä½ éœ€è¦æ”¹ä¸ºdata.jsonæ‰€åœ¨çš„è·¯å¾„)ã€‚

æ•ˆæœå‚è€ƒï¼šå¦‚æœå‰ç«¯é¡¹ç›®è¿è¡Œäºlocalhost:8000ï¼Œåªéœ€åœ¨æµè§ˆå™¨è®¿é—®localhost:8000/api/dataï¼ŒæŸ¥çœ‹æ˜¯å¦æ‰“å°æ­£ç¡®å³å¯ã€‚

### 7.2 mock-2: ç®€æ˜“æŒä¹…åŒ–(20')(ç´¯è®¡: 180')
è¯·å®ç°ä¸€ä¸ªmockæ¥å£ï¼Œ"POST /api/data"ã€‚æ¥æ”¶ä¸€ä¸ªpostè¯·æ±‚ï¼Œå‘èµ·è¯·æ±‚æ—¶éœ€è¦é™„å¸¦ä¸€ä¸ªbodyï¼Œæ¥å£æ”¶åˆ°bodyåå°†bodyæ•°æ®å†™å…¥data.jsonã€‚

æç¤º1ï¼šå¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯POSTï¼Œä»€ä¹ˆæ˜¯bodyï¼Œè¯·å–„ç”¨æœç´¢å¼•æ“ï¼Œå­¦ä¹ POSTè¯·æ±‚æ ¼å¼ã€‚

æç¤º2ï¼šå¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•è·å–bodyï¼Œå¯ä»¥æŸ¥çœ‹ä»¥ä¸‹umiç¤ºä¾‹ï¼Œå¦‚æœä½ ä½¿ç”¨çš„ä¸æ˜¯umiï¼Œè¯·å–„ç”¨æµè§ˆå™¨æŸ¥é˜…ç›¸å…³æ–‡æ¡£ã€‚
```javascript
// mock/api.js
export default {
  "POST /api/users/create": (req, res) => {
    // æ·»åŠ è·¨åŸŸè¯·æ±‚å¤´
    res.setHeader("Access-Control-Allow-Origin", "*');
    console.log(req.body);
    res.end("ok');
  },
}
```
æç¤º3ï¼šå¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•å†™å…¥æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨Nodejsè‡ªå¸¦çš„fsåº“ï¼ˆæ— éœ€é€šè¿‡npm installæ¥å®‰è£…ï¼‰ï¼š
```javascript
import fs from "fs"
```
å¹¶è°ƒç”¨writeFileSyncæ–¹æ³•
```javascript
fs.writeFileSync(...)
```
å…³äºwriteFileSyncæ–¹æ³•çš„ä½¿ç”¨ï¼Œè¯·å–„ç”¨æœç´¢å¼•æ“ï¼ŒæŸ¥é˜…MDNç­‰ç½‘ç«™ã€‚

æç¤º4ï¼šå½“å†™å…¥æ–‡ä»¶æ—¶ï¼Œé€šå¸¸ä¸èƒ½ç›´æ¥å†™å…¥ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼ˆå¦‚Objectæˆ–Arrayï¼‰ï¼Œä½ éœ€è¦å°†å®ƒè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ä½¿ç”¨JSON.stringify()ç­‰åº“å‡½æ•°ï¼ˆæ— éœ€å®‰è£…ï¼Œæ— éœ€importï¼‰ã€‚å¦‚æœä½ ä¸æ¸…æ¥šå®ƒçš„ç”¨æ³•ï¼Œè¯·å–„ç”¨æœç´¢å¼•æ“ï¼ŒæŸ¥é˜…MDNç­‰ç½‘ç«™ã€‚

æ•ˆæœå‚è€ƒï¼šä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·å¦‚wgetï¼Œæˆ–æ˜¯å¸¦GUIçš„åº”ç”¨å¦‚postmanæ¥æ¨¡æ‹Ÿä¸€ä¸ªpostè¯·æ±‚ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šä»–ä»¬çš„ä½¿ç”¨ï¼Œè¯·å–„ç”¨æœç´¢å¼•æ“ã€‚å‘èµ·postè¯·æ±‚ï¼Œåœ¨bodyä¸­å†™å…¥ä¸€ä¸ªobjectæˆ–arrayï¼Œå‘èµ·è¯·æ±‚åå‘ç°data.jsonå†…å®¹å˜åŒ–å³å¯ã€‚

### 7.3 mock-3: æ¨¡æ‹Ÿåå°è°ƒç”¨(20')(ç´¯è®¡: 190')
æˆ‘ä»¬å·²ç»å®ç°äº†ä»é™æ€æ–‡ä»¶(data.json)çš„æ•°æ®è·å–å’Œå†™å…¥ï¼Œæœ€åä¸€æ­¥æˆ‘ä»¬éœ€è¦å°†æ•°æ®æ¥å…¥åˆ°storeï¼Œæ¨¡æ‹Ÿä»å‰ç«¯è¯·æ±‚æ•°æ®->åˆå§‹åŒ–store->åœ¨å‰ç«¯ä¿®æ”¹æ•°æ®->å°†storeä¸­çš„æ•°æ®å‘é€åˆ°åå°çš„å®Œæ•´æµç¨‹ã€‚

ä½ éœ€è¦å°†storeä¸­åŸæœ‰çš„åˆå§‹åŒ–æ•°æ®æ”¹æˆç©ºæ•°ç»„ï¼Œå¹¶é€šè¿‡è°ƒç”¨"GET /api/data"æ¥åˆå§‹åŒ–æ•°æ®ã€‚

ä½ éœ€è¦å®ç°ä¸€ä¸ªCommitæŒ‰é’®ï¼Œç‚¹å‡»CommitæŒ‰é’®åè°ƒç”¨"POST /api/data"æ•°æ®å°†å½“å‰storeæ•°æ®å†™å…¥data.jsonã€‚

æç¤º1ï¼šä½ å¯ä»¥ä½¿ç”¨umi-requestï¼Œfetchç­‰åŒ…å‘åå°å‘èµ·è¯·æ±‚ã€‚

æç¤º2ï¼šå¦‚æœä½ ä¸æ¸…æ¥šå¦‚ä½•ç»“åˆfetch/umi-requestä¸dva/reduxï¼Œè¯·å‚è€ƒdvaæˆ–reduxçš„ç›¸å…³æ–‡æ¡£å’Œå¸–å­ï¼Œå¦‚https://github.com/dvajs/dva-docs/blob/master/v1/zh-cn/tutorial/07-%E6%B7%BB%E5%8A%A0Effects.mdã€‚

æç¤º3ï¼šdvaçš„å®˜æ–¹æ–‡æ¡£å†™çš„å¹¶ä¸è¯¦ç»†ï¼Œå¾ˆå¯èƒ½æ— æ³•è§£å†³ä½ çš„é—®é¢˜ï¼Œè¿™ç§æƒ…å†µä¹Ÿä¸åªé™äºdvaï¼Œæœç´¢ä¸€äº›ç›¸å…³çš„å¸–å­å’Œæ ·ä¾‹ä»£ç å¯ä»¥ä»¤ä½ æœ‰æ‰€æ”¶è·ã€‚

æ•ˆæœå‚è€ƒï¼šåœ¨employeeæˆ–listé¡µé¢ä¿®æ”¹æ•°æ®åæŸ¥çœ‹data.jsonï¼Œå‘ç°æ•°æ®å‡ºç°å¯¹åº”æ”¹å˜å³å¯ã€‚

## 8 ç®€æ˜“åå°(10')

åœ¨ç¬¬7é¢˜ä¸­ï¼Œmockå®ç°çš„ç®€æ˜“serverè¡Œä¸ºä¸çœŸå®çš„åå°æ˜¯ä¸€è‡´çš„ã€‚ä½†åœ¨çœŸå®å¼€å‘ä¸­ï¼ŒSpringæ¡†æ¶æ˜¯æ›´ä¸ºä¸»æµçš„åå°è§£å†³æ–¹æ¡ˆï¼Œè¯·ç”¨Springæ¡†æ¶æ›¿æ¢7.1-7.3ä¸­çš„mockã€‚

ä½ éœ€è¦å®ç°ä¸¤ä¸ªæ¥å£

- "GET /api/data"

- "POST /api/data"

æç¤º1ï¼šä½ éœ€è¦ä¿®æ”¹ä¹‹å‰umi-request/fetchçš„è¯·æ±‚è·¯å¾„ï¼ŒåŒ…æ‹¬ipå’Œç«¯å£ã€‚

æç¤º2ï¼šä½ å¯èƒ½ä¼šé‡åˆ°è·¨åŸŸï¼ˆCORSï¼‰é—®é¢˜ï¼Œå®ƒå¯ä»¥åœ¨å‰ç«¯è§£å†³ï¼Œä¹Ÿå¯ä»¥åœ¨åç«¯è§£å†³ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ï¼Œä½ å¯ä»¥å€ŸåŠ©æœç´¢å¼•æ“è§£å†³å®ƒã€‚
>>>>>>> 61025d871ed0016b8875719903e19755539c1a4f
